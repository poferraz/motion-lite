import{g,j as e}from"./index-CUvJq98-.js";import{r as t}from"./vendor-nf7bT_Uh.js";import{u as N,c,a as u,m as v,b as w}from"./usePrefersReducedMotion-D4_4BgCp.js";function R({onUploadCSV:m,hasExistingData:n,onReplaceCSV:x,onStartWorkoutMode:p,onReset:f}){const[a,b]=t.useState(null),d=t.useRef(null),l=t.useRef(null),i=N(),o=t.useRef(null);t.useEffect(()=>{if(n){const s=g();if(s){const r=l.current,j=r?c(r):null;b(s),requestAnimationFrame(()=>u(j))}}},[n]),t.useEffect(()=>{if(l.current)return v(l.current,{reducedMotion:i}),()=>w()},[i]),t.useEffect(()=>{if(!l.current||!a)return;const s=o.current;if(s!==null&&s!==a.sessionsCount){const r=c(l.current);requestAnimationFrame(()=>u(r))}o.current=a.sessionsCount},[a]);const h=t.useCallback(s=>new Date(s).toISOString().split("T")[0],[]);return e.jsxs("div",{ref:l,className:`flex-grow flex flex-col items-center ${n?"justify-center":"justify-start"} text-center p-4 relative app-minscreen pt-[env(safe-area-inset-top)]`,"data-landing-root":!0,children:[!i&&!n&&e.jsxs(e.Fragment,{children:[e.jsx("video",{className:"fixed-fullbleed object-cover pointer-events-none",src:"/videos/landing-bg-1.optimized.mp4",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,preload:"auto","aria-hidden":"true"}),e.jsx("div",{className:"fixed-fullbleed z-[1] pointer-events-none bg-black/70","aria-hidden":"true"}),e.jsx("div",{className:"fixed-fullbleed z-[2] pointer-events-none bg-purple-500/30","aria-hidden":"true"})]}),n&&a?e.jsxs("div",{className:"w-full max-w-sm relative z-10",children:[e.jsx("h1",{ref:d,className:"text-4xl font-bold mb-3 text-white","data-landing-title":!0,children:"Welcome Back!"}),e.jsx("p",{className:"text-white text-lg mb-10","data-landing-subtitle":!0,children:"Ready to start your next session?"}),e.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 w-full mb-6","data-landing-update":!0,children:[e.jsx("div",{className:"bg-purple-500/20 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"material-symbols-outlined text-purple-400","data-landing-icon":!0,children:"event_available"})}),e.jsxs("h2",{className:"text-2xl font-semibold mb-1","data-landing-count":!0,children:[e.jsx("span",{"aria-live":"polite","data-landing-count-num":!0,children:a.sessionsCount})," ","Sessions Detected"]}),e.jsxs("p",{className:"text-zinc-500 text-sm mb-6","data-landing-last-upload":!0,children:["Last upload on ",h(a.uploadedAt)]}),e.jsxs("button",{onClick:p,className:"bg-gradient-to-r from-purple-500 to-blue-500 w-full py-3 rounded-xl flex items-center justify-center space-x-2 shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 transition-all duration-200 relative z-10","data-pressable":!0,"data-landing-cta":!0,children:[e.jsx("span",{className:"material-symbols-outlined",children:"play_arrow"}),e.jsx("span",{className:"font-semibold",children:"Start Workout Mode"})]})]}),e.jsx("div",{className:"text-white my-4",children:"Or"}),e.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 w-full","data-landing-update":!0,children:[e.jsx("div",{className:"bg-zinc-700/50 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"material-symbols-outlined text-zinc-400","data-landing-icon":!0,children:"upload_file"})}),e.jsx("h2",{className:"text-2xl font-semibold mb-1 text-white",children:"Update Your Data"}),e.jsx("p",{className:"text-white text-sm mb-6",children:"Upload a new CSV file to refresh."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:x,className:"bg-zinc-800 w-full py-3 rounded-xl flex items-center justify-center space-x-2 border border-zinc-700 hover:bg-zinc-700 transition-colors","data-pressable":!0,"data-landing-replace":!0,children:[e.jsx("span",{className:"material-symbols-outlined",children:"cloud_upload"}),e.jsx("span",{className:"font-semibold",children:"Replace CSV"})]}),e.jsxs("button",{onClick:f,className:"bg-red-500/20 text-red-400 w-full py-3 rounded-xl flex items-center justify-center space-x-2 border border-red-500/50 hover:bg-red-500/30 transition-colors","data-pressable":!0,"data-landing-reset":!0,children:[e.jsx("span",{className:"material-symbols-outlined",children:"delete_forever"}),e.jsx("span",{className:"font-semibold",children:"Reset All Data"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full max-w-sm relative z-10 mt-24",children:[e.jsx("h1",{ref:d,className:"text-4xl font-bold mb-3 text-white","data-landing-title":!0,children:"Motion."}),e.jsx("p",{className:"text-white text-lg","data-landing-subtitle":!0,children:"Your workout companion"})]}),e.jsx("div",{className:"flex-1 flex items-center w-full",children:e.jsx("div",{className:"w-full max-w-sm relative z-10",children:e.jsxs("div",{className:"w-full text-white","data-landing-update":!0,children:[e.jsx("div",{className:"flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"material-symbols-outlined text-purple-400 text-5xl","data-landing-icon":!0,children:"cloud_upload"})}),e.jsx("h2",{className:"text-2xl font-semibold mb-1 text-white",children:"Get Started"}),e.jsx("p",{className:"text-white text-sm mb-6",children:"Upload a CSV file to begin your workout journey."}),e.jsxs("button",{onClick:m,className:"btn-gradient w-full flex items-center justify-center space-x-2 relative z-10","data-pressable":!0,"data-landing-cta":!0,children:[e.jsx("span",{className:"material-symbols-outlined",children:"cloud_upload"}),e.jsx("span",{className:"font-semibold",children:"Upload CSV"})]})]})})})]})]})}export{R as default};
